local host, port = "ws://fullsd.com", 80
local socket = require("socket")

local tcp = assert(socket.tcp())
local connection = tcp:connect(host, port);

if connection == nil then
  print ('socket server este nil')
end

print(connection)

--note the newline below


if connection == 9 then
 print("start sending messages to socket server")
 tcp:send("hello world\n");

 while true do
  local s, status, partial = tcp:receive()
   print(s or partial or 'sadsadadsdf')    
   if status == "closed" then break end
  end

  tcp:close()
end